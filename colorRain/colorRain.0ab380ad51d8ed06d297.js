(()=>{var o={172:(o,e,n)=>{n.d(e,{Z:()=>a});const a=function(o,e,n){var a=this;this.config=o,this.colorRain=e,this.colorizer=n.cols,this.shapes=n.shapes,this.chaos={mr_t:{active:!0,func:function(o){a.forceChaosMrT(o)}},stripe:{active:!0,func:function(o){a.forceChaosStarsAndStripes(o)}},steps:{active:!0,func:function(o){a.forceChaosSteps(o)}},diag:{active:!0,func:function(o){a.forceChaosDiagonal(o)}},circle:{active:!0,func:function(o){a.forceChaosShape("circle",o)}},spiral:{active:!0,func:function(o){a.forceChaosShape("spiral",o)}},heart:{active:!0,func:function(o){a.forceChaosShape("heart",o)}},box:{active:!0,func:function(o){a.forceChaosShape("box",o)}},kite:{active:!0,func:function(o){a.forceChaosShape(Math.random()>.5?"kite1":"kite2",o)}},star:{active:!0,func:function(o){a.forceChaosShape("star",o)}},snake:{active:!0,func:function(o){a.forceChaosShape(Math.random()>.5?"snake1":"snake2",o)}}},this.getActiveChaosNames=function(){return Object.keys(a.chaos).filter((function(o){return a.chaos["".concat(o)].active}))},this.forceChaosShape=function(n,t){var r=a.shapes.getShape(n),s=r[0].length,c=r.length,l=a.colorizer.randomX(7)+2,h=10*o.canvas.colors;console.log("Chaos: Shape ".concat(n," (").concat(s,"x").concat(c,") ").concat(l," times, direction=").concat(t));var v=!1;for(i=0;i<l;i++){var d=a.colorizer.randomX(o.canvas.width-s),p=a.colorizer.randomX(o.canvas.height-c),g=a.colorizer.randomColor();for(shapeY=0;shapeY<c;shapeY++){var u=r[shapeY];for(v&&(u=u.reverse()),shapeX=0;shapeX<s;shapeX++){var f=u[shapeX];if("number"==typeof f){var m=(d+shapeX+(p+shapeY)*o.canvas.width)%o.canvas.size,C=(g+h+f*t)%o.canvas.colors;e.cells[m].nextColor=C}}}v=!v}},this.forceChaosMrT=function(n){var t=a.colorizer.randomX(12)+2;console.log("Chaos: Mr T size=".concat(t," direction=").concat(n));var r=a.colorizer.randomX(o.canvas.width-t-1),i=a.colorizer.randomX(o.canvas.height-t-1);n<0&&(r+=t,i+=t);var s=a.colorizer.randomColor();for(times=1;times<t;times++){for(fiby=0;fiby<o.canvas.height;fiby++){var c=fiby*o.canvas.width+r;e.cells[c].nextColor=s}for(fibx=0;fibx<o.canvas.width;fibx++){var l=i*o.canvas.width+fibx;e.cells[l].nextColor=s}s=a.colorizer.nextColor(s),r+=n,i+=n}},this.forceChaosStarsAndStripes=function(o){return 1===a.colorizer.randomX(2)?a.forceChaosColorStripe(o):a.forceChaosColorStar(o)},this.forceChaosColorStripe=function(n){var t,r,s=a.colorizer.randomX(o.canvas.size);n<0?(t=o.canvas.width,r=o.canvas.height):(t=1,r=o.canvas.width),s>o.canvas.size/2&&(t*=-1),console.log("Chaos: Color Stripe size=".concat(r," plus=").concat(t," direction=").concat(n));var c=a.colorizer.nextColor(e.cells[s].color);for(i=0;i<r;i++)e.cells[s].nextColor=c,0===a.colorizer.randomX(8)&&(c=a.colorizer.nextColor(c)),s=(s+o.canvas.size+t)%o.canvas.size},this.forceChaosColorStar=function(n){var t=a.randomTimes();console.log("Chaos: Color Star size=".concat(t," direction=").concat(n));var r=a.colorizer.randomX(o.canvas.size),s=e.cells[r].color;for(i=t;i>=0;i--){var c=void 0,l=void 0;n<0?(c=(r+i*o.canvas.width)%o.canvas.size,l=(r+o.canvas.size-i*o.canvas.width)%o.canvas.size):(c=(r+i)%o.canvas.size,l=(r+o.canvas.size-i)%o.canvas.size),e.cells[c].nextColor=s,e.cells[l].nextColor=s,s=a.colorizer.nextColor(s)}},this.forceChaosSteps=function(n){var t,r,s=a.colorizer.randomX(o.canvas.size),c=stepY=a.colorizer.randomX(10)+2,l=Math.min(o.canvas.height+o.canvas.width,o.canvas.colors*Math.max(c,stepY));n<0?(t=o.canvas.width,r=1):(stepY*=-1,t=-1*o.canvas.width,r=1),console.log("Chaos: Color Steps vert=".concat(stepY," horiz=").concat(c," walk=").concat(l," direction=").concat(n));var h=a.colorizer.nextColor(e.cells[s].color),v=0,d=!0;for(i=0;i<l;i++)v++,d?(s=(s+o.canvas.size+t)%o.canvas.size,v%stepY==0&&(h=a.colorizer.nextColor(h),v=0,d=!1)):(s=(s+o.canvas.size+r)%o.canvas.size,v%c==0&&(h=a.colorizer.nextColor(h),v=0,d=!0)),e.cells[s].nextColor=h},this.forceChaosDiagonal=function(n){var t,r=a.colorizer.randomX(o.canvas.width),i=o.canvas.height,s=a.colorizer.randomX(o.canvas.colors)+2,c=r;n<0?(t=1+o.canvas.size-o.canvas.width,c=c+o.canvas.size-o.canvas.width):t=1+o.canvas.width,console.log("Chaos: Diagonal step=".concat(t," times=").concat(s," direction=").concat(n));var l=a.colorizer.randomColor();for(diagLine=0;diagLine<s;diagLine++){var h=(c+diagLine)%o.canvas.size;for(diagStep=0;diagStep<i;diagStep++)e.cells[h].nextColor=l,h=(h+t)%o.canvas.size;l=a.colorizer.nextColor(l)}},this.randomTimes=function(){var e=Math.floor(.75*o.canvas.colors);return e=Math.min(e,o.canvas.width-4),e=Math.min(e,o.canvas.height-4),a.colorizer.randomX(e)+4}}},805:(o,e,n)=>{n.d(e,{Z:()=>a});const a=function(o,e){var n=this;this.config=o,this.colorRain=e,this.getColor=function(o){return e.colors[o]},this.randomX=function(o){return Math.floor(Math.random()*o)},this.randomColor=function(){return n.randomX(o.canvas.colors)},this.prevColor=function(e){return(e+o.canvas.colors-1)%o.canvas.colors},this.nextColorCount=0,this.nextColor=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return void 0===e?(n.nextColorCount=n.nextColorCount+1%o.canvas.colors,n.nextColorCount):(e+1)%o.canvas.colors},this.randomUpOrDown=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return Math.random()>n?(e+1)%o.canvas.colors:(e+o.canvas.colors-1)%o.canvas.colors},this.nextOrSameColor=function(o){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return e>Math.random()?n.nextColor(o):o},this.prevOrSameColor=function(o){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return e>Math.random()?n.prevColor(o):o},this.colorRgbValue=function(o,e,n){return"rgb(".concat(Math.round(255*o),", ").concat(Math.round(255*e),", ").concat(Math.round(255*n),")")},this.colorFloatValue=function(o,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/3,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,t=e*n,r=Math.floor(o+a+e)%e;if(r>t)return 0;var i=t/2;return r===i?1:r<i?r/i:1-(r-i)/i},this.colorSinePhase=function(o){var e=Math.min(o,1);return e=Math.max(e,0),Math.sin(e*Math.PI/2)}}},232:(o,e,n)=>{n.d(e,{Z:()=>a});const a=function(){this.config={active:!0,canvas:{step:3,width:240,height:135,size:0,colors:64,colorPhase:"sine_wave",colorStyle:"rainbow",initStyle:"lines",maxCycles:5e3,renderCycleType:"timer",timer:30},splash:{active:!0},auto:{active:!0},rain:{active:!0,drop:200},spatter:{active:!1,drop:10},chaos:{active:!0,wait:100}},this.colorRain={colors:{},cells:{},neighbors:{},count:0}}},276:(o,e,n)=>{n.d(e,{Z:()=>a});const a=function(o,e,n,a,t,r){var s=this;this.config=o,this.colorRain=e,this.ctrlNavDiv=a,this.ctrlButtonDiv=t,this.confDiv=r,this.chaos=n.chaos,this.appDataRef=n,this.controls=[{groupId:"main_ctrls",groupName:"Main controls",btns:[{id:"active",name:"Stop/Start",type:"toggle",color:"primary"},{id:"auto",name:"Auto-Cycle?",type:"toggle",color:"secondary"},{id:"rain",name:"Rain?",type:"toggle",color:"info"},{id:"spatter",name:"Spatter?",type:"toggle",color:"info"},{id:"chaos",name:"Chaos?",type:"toggle",color:"info"}]},{groupId:"chaos_ctrls",groupName:"Chaos",btns:[{id:"chaosalg_x_",name:"",type:"set_x_value",vals:["mr_t","diag","stripe","steps","heart","circle","spiral","snake","star","box","kite"],color:"primary"},{id:"chaosrate_x_",name:"x",type:"set_x_value",vals:["10","35","100","250"],color:"secondary"}]},{groupId:"level_ctrls",groupName:"Rate",btns:[{id:"rainrate_x_",name:"Rain-x",type:"set_x_value",vals:["10","20","50","100","200","500","1000","5000"],color:"info"},{id:"framemode",name:"Frame mode",type:"toggle",color:"secondary"},{id:"timer_x_",name:"Timer-",type:"set_x_value",vals:["10","30","100","200","500"],color:"primary"}]},{groupId:"color_ctrls",groupName:"Colors",btns:[{id:"colors_x_",name:"x",type:"set_x_value",vals:["24","32","48","64","96","128","192","256","384"],color:"primary"},{id:"colorPhase_x_",name:"Phase/",type:"set_x_value",vals:["linear_v","sine_wave"],color:"secondary"},{id:"colorStyle_x_",name:"Colors/",type:"set_x_value",vals:["rainbow","random"],color:"success"}]},{groupId:"size_ctrls",groupName:"Sizes",btns:[{id:"frameplus",name:"Grow",type:"toggle",color:"info"},{id:"frameminus",name:"Shrink",type:"toggle",color:"info"},{id:"framesize_x_",name:"",type:"set_x_value",vals:["120x80x4","240x135x3","360x240x2","480x270x2","640x480x1","960x540x1","1366x720x1","1920x1080x1"],color:"danger"}]},{groupId:"init_ctrls",groupName:"Initializer",btns:[{id:"initStyle_x_",name:"Canvas/",type:"set_x_value",vals:["solid","lines","diag","vert","random"],color:"danger"}]},{groupId:"hide_ctrls",groupName:"Hide",btns:[]}],this.toggle=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"active";console.log("Controller: toggle type: ".concat(n));var a=n.split("_x_"),t=a[0],r="";switch(a.length>1&&(r=a[1]),t){case"active":s.toggleActive();break;case"initStyle":case"colorPhase":case"colorStyle":r.trim()?(console.log("Controller: ...".concat(t,"=").concat(r)),s.toggleActive(!1),window.setTimeout((function(){o.canvas[t]=r,"initStyle"===t?s.appDataRef.init.initMe():(s.appDataRef.init.initAllColors(),s.appDataRef.rend.startRendering())}),1e3)):console.log("Controller: ...unknown value, skipping ".concat(t," change"));break;case"framemode":o.canvas.renderCycleType="frame",console.log("Controller: ...set frame mode");break;case"timer":r.trim()?(o.canvas.timer=parseInt(r),o.canvas.renderCycleType="timer",console.log("Controller: ...set timer mode with sleep=".concat(o.canvas.timer))):console.log("Controller: ...unknown value, skipping timer change");break;case"colors":if(r.trim()){console.log("Controller: ...set num colors=".concat(parseInt(r))),s.toggleActive(!1),window.setTimeout((function(){o.canvas.colors=parseInt(r),s.appDataRef.init.initAllColors(),s.appDataRef.rend.startRendering()}),1e3);break}console.log("Controller: ...unknown value, skipping color change which will cause reset");break;case"rainrate":r.trim()?(o.rain.drop=parseInt(r),console.log("Controller: ...set rain drops=".concat(o.rain.drop))):console.log("Controller: ...unknown value, skipping rain drop change");break;case"chaosrate":r.trim()?(o.chaos.wait=parseInt(r),console.log("Controller: ...set chaos wait=".concat(o.chaos.wait))):console.log("Controller: ...unknown value, skipping chaos wait change");break;case"frameplus":case"frameminus":s.toggleActive(!1),window.setTimeout((function(){for("frameminus"===t&&o.canvas.step>1?(console.log("Controller: ...set frame size minus=".concat(o.canvas.step-1)),o.canvas.step=o.canvas.step-1):"frameplus"===t&&(console.log("Controller: ...set frame size plus=".concat(o.canvas.step+1)),o.canvas.step=o.canvas.step+1),s.appDataRef.init.initCanvas(),i=0;i<o.canvas.size;i++){var n=s.appDataRef.init.determineXY(i);e.cells[i]=s.appDataRef.init.initCellColorAndSize(n,e.cells[i].color)}s.appDataRef.rend.startRendering()}),1e3);break;case"framesize":r.trim()&&s.frameSizes.hasOwnProperty(r)?(console.log("Controller: ...set frame size=".concat(r,"...stopping before reset")),s.toggleActive(!1),window.setTimeout((function(){s.setFrameSize(r),console.log("Controller: ...set frame size=".concat(o.canvas.width,":").concat(o.canvas.height,":").concat(o.canvas.step)),s.appDataRef.init.initMe()}),1e3)):console.log("Controller: ...unknown value, skipping frame size change which will cause reset");break;case"spatter":case"rain":case"auto":case"chaos":o[n].active=!o[n].active,console.log("Controller: ...set ".concat(n,"=").concat(o[n].active));break;case"chaosalg":r.trim()&&s.chaos.chaos.hasOwnProperty(r)?(s.chaos.chaos[r].active=!s.chaos.chaos[r].active,console.log("Controller: ...set chaos algorithm ".concat(r,"=").concat(s.chaos.chaos[r].active))):console.log("Controller: ...unknown value, skipping chaos algorithm change");break;case"showThisControl":r.trim()?(console.log("Controller: ...toggle control group=".concat(r)),s.showThisControl(r)):(console.log("Controller: ...unknown control group, showing control group=main_ctrls"),s.showThisControl(main_ctrls));break;default:console.log("Controller: Unknown toggle type: ".concat(n))}s.showMeConfigs()},this.showMeConfigs=function(){var o=s.configSummary();r.innerText=o},this.toggleActive=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;"boolean"==typeof n?(console.log("Controller: ...forcing active:"+n),o.active=n):o.active?(console.log("Controller: ...stopped!"),o.active=!1):(console.log("Controller: ...started!"),o.active=!0,e.count=0,s.appDataRef.rend.nextFrame())},this.frameSizes={"1920x1080x1":[1920,1080,1],"1366x720x1":[1366,720,1],"960x540x1":[960,540,1],"640x480x1":[640,480,1],"480x270x2":[480,270,2],"360x240x2":[360,240,2],"240x135x3":[240,135,3],"120x80x4":[120,60,4]},this.setFrameSize=function(e){var n=s.frameSizes[e]||[120,60,4];o.canvas.width=n[0],o.canvas.height=n[1],o.canvas.step=n[2]},this.configSummary=function(){var n="";n+=o.active?"Active":"Stopped";var a=o.auto.active?"On":"Off",t=o.rain.active?"On":"Off",r=" "+o.rain.drop+"/frame",i=o.spatter.active?"On":"Off",c=" "+o.spatter.drop+"/frame",l=o.chaos.active?"On":"Off",h=" 1/"+o.chaos.wait+"frames",v=s.chaos.getActiveChaosNames(),d=o.canvas.initStyle,p=o.canvas.colorPhase,g=o.canvas.colorStyle,u="frame"===o.canvas.renderCycleType?"":"/"+o.canvas.timer;return n+=" | Auto "+a,n+=" | Colors "+o.canvas.colors+" ("+p+"/"+g+")",n+=" | Rain "+t+r,n+=" | Spatter "+i+c,n+=" | Chaos "+l+h,n+=v.length>0?" ("+v.join(",")+")":" (NONE)",n+=" | Canvas "+o.canvas.width+":"+o.canvas.height+":"+o.canvas.step+" ("+d+")",n+=" | "+o.canvas.renderCycleType+u+" count "+e.count},this.createControls=function(){console.log("Controller: Creating all controls"),a.innerHTML="",t.innerHTML="",console.log("Controller: Creating controls section list");var o=document.createElement("div");o.className="navbar-nav",a.appendChild(o),console.log("Controller: Creating controls button div");var e=document.createElement("div");e.className="text-center",t.appendChild(e);var n=s.controls;n.forEach((function(a){if(console.log("Controller: Creating btn controls for group ".concat(a.groupId)),o.appendChild(s.createToggleGroupButton(a.groupName,a.groupId)),a.groupId!==n[n.length-1].groupId){var t=document.createElement("span");t.className="navbar-text",t.appendChild(document.createTextNode(" | ")),o.appendChild(t)}if(a.btns.length>0){var r=s.createToggleGroup(e,a.groupId,a.groupId);a.btns.forEach((function(o){s.createToggle(r,o.name,o.id,o.color,o.type,o.vals?o.vals:[])}))}})),console.log("Controller: Done Creating all controls"),s.hideAllControls()},this.showThisControl=function(o){s.hideAllControls();var e=document.getElementById(o);e?(console.log("Controller: showing ".concat(o)),e.style.display="block"):console.log("Controller: hiding only")},this.hideAllControls=function(){console.log("Controller: hiding all");var o=document.getElementsByClassName("ctrl_hidable_wrapper");for(i=0;i<o.length;i++){o[i].style.display="none"}},this.createToggleGroupButton=function(o,e){var n=document.createElement("a");n.className="nav-link",n.setAttribute("role","button"),n.setAttribute("onclick","appData.ctrl.toggle('showThisControl_x_".concat(e,"')"));var a=document.createElement("small");return a.className="text-light",a.appendChild(document.createTextNode(o)),n.appendChild(a),n},this.createToggleGroup=function(o,e,n){var a=document.createElement("div");a.setAttribute("id",n),a.className="ctrl_hidable_wrapper mt-2";var t=document.createElement("div");return t.className="btn-group m-0 px-1",t.setAttribute("role","group"),a.appendChild(t),o.appendChild(a),t},this.createButton=function(o,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"primary",a=document.createElement("button");return a.className="btn btn-sm btn-outline-"+n,a.setAttribute("type","button"),a.setAttribute("onclick",e),a.innerHTML="<small>"+o+"</small>",a},this.createToggle=function(o,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"primary",t=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"toggle",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];switch(t){case"toggle":o.appendChild(s.createButton(e,"appData.ctrl.toggle('".concat(n,"')"),a));break;case"set_x_value":if(r.length>0){r.forEach((function(t){o.appendChild(s.createButton(e+t,"appData.ctrl.toggle('".concat(n).concat(t,"')"),a))}));break}console.log("set_x_value type controls missing values array");default:console.log("Controller: Unknown toggle type: ".concat(t))}}}},248:(o,e,n)=>{n.d(e,{Z:()=>a});const a=function(o,e,n,a){var t=this;this.config=o,this.colorRain=e,this.colorizer=n.cols,this.renderer=n.rend,this.canvas=a,this.initMe=function(){var e=o.canvas.initStyle;console.log("Initializer: init mode="+e),o.splash.active=!1,t.initCanvas(),t.initAllColors(),t.initAllCells(e),t.renderer.startRendering()},this.initCanvas=function(){t.canvas.width=o.canvas.width*o.canvas.step,t.canvas.height=o.canvas.height*o.canvas.step,o.canvas.size=o.canvas.width*o.canvas.height},this.initAllColors=function(){"rainbow"===o.canvas.colorStyle?t.initAllColorsRainbow():t.initAllColorsRandom()},this.initAllColorsRainbow=function(){t.initAllColorsByColorScales(t.rainbowScales),console.log("Initializer: rainbow scales initialized")},this.rainbowScales=[{scale:2/3,shift:0},{scale:2/3,shift:1/3},{scale:2/3,shift:2/3}],this.colorScales=[[{scale:1,shift:0},{scale:.5,shift:1/3},{scale:.5,shift:2/3}],[{scale:1,shift:0},{scale:.5,shift:2/3},{scale:.5,shift:1/3}],[{scale:1,shift:0},{scale:.5,shift:0},{scale:.5,shift:.5}],[{scale:1,shift:0},{scale:.4,shift:.2},{scale:.6,shift:.7}],[{scale:1,shift:0},{scale:.4,shift:.8},{scale:.6,shift:.3}],[{scale:1,shift:0},{scale:2/3,shift:1/3},{scale:2/3,shift:2/3}],[{scale:1,shift:0},{scale:2/3,shift:2/3},{scale:2/3,shift:1/3}],[{scale:1,shift:0},{scale:2/3,shift:.5},{scale:2/3,shift:0}],[{scale:1,shift:0},{scale:2/3,shift:0},{scale:2/3,shift:.5}],[{scale:1,shift:0},{scale:2/3,shift:1/3},{scale:1/3,shift:2/3}],[{scale:1,shift:0},{scale:2/3,shift:2/3},{scale:1/3,shift:1/3}],[{scale:1,shift:0},{scale:2/3,shift:0},{scale:1/3,shift:2/3}],[{scale:1,shift:0},{scale:2/3,shift:1/3},{scale:1/3,shift:0}]],this.initAllColorsRandom=function(){var o=t.colorizer.randomX(t.colorScales.length),e=t.colorScales[o],n=t.colorizer.randomX(e.length),a=(n+1)%e.length,r=(n+2)%e.length;t.initAllColorsByColorScales([e[n],e[a],e[r]]),console.log("Initializer: randomized scales (idx=".concat(o,"): R=").concat(n," G=").concat(a," B=").concat(r))},this.initAllColorsByColorScales=function(n){var a=o.canvas.colors,r="linear_v"===o.canvas.colorPhase;for(c=0;c<a;c++){var i=void 0;i=r?t.colorizer.colorRgbValue(t.colorizer.colorFloatValue(c,a,n[0].scale,Math.round(a*n[0].shift)),t.colorizer.colorFloatValue(c,a,n[1].scale,Math.round(a*n[1].shift)),t.colorizer.colorFloatValue(c,a,n[2].scale,Math.round(a*n[2].shift))):t.colorizer.colorRgbValue(t.colorizer.colorSinePhase(t.colorizer.colorFloatValue(c,a,n[0].scale,Math.round(a*n[0].shift))),t.colorizer.colorSinePhase(t.colorizer.colorFloatValue(c,a,n[1].scale,Math.round(a*n[1].shift))),t.colorizer.colorSinePhase(t.colorizer.colorFloatValue(c,a,n[2].scale,Math.round(a*n[2].shift)))),console.log("Initializer: ".concat(r?"linear":"sine"," phase Color number=").concat(c," value=").concat(i)),e.colors[c]=i}var s="NONE",l=-1;1===n[0].scale?(s="Red",l=0):1===n[1].scale?(s="Green",l=1):1===n[2].scale&&(s="Blue",l=2),console.log("Initializer: ".concat(r?"linear":"sine"," scales: primary idx=").concat(l," color=").concat(s))},this.initAllCells=function(n){var a=t.colorizer.randomColor(),r=Math.random()>.5;for(i=0;i<o.canvas.size;i++){var s=t.determineXY(i);a=t.determineColor(s,a,n,r),e.cells[i]=t.initCellColorAndSize(s,a),e.neighbors[i]=t.initCellNeighbors(s)}},this.determineXY=function(e){return{x:Math.floor(e%o.canvas.width),y:Math.floor(e/o.canvas.width)}},this.initCellNeighbors=function(e){var n=e.y-1,a=e.y+1,t=e.x-1,r=e.x+1;return n<0?n+=o.canvas.height:a>=o.canvas.height&&(a-=o.canvas.height),t<0?t+=o.canvas.width:r>=o.canvas.width&&(r-=o.canvas.width),[t+e.y*o.canvas.width,e.x+n*o.canvas.width,r+e.y*o.canvas.width,e.x+a*o.canvas.width]},this.initCellColorAndSize=function(e,n){return{color:n,nextColor:n,x:e.x*o.canvas.step,y:e.y*o.canvas.step}},this.determineColor=function(e,n,a){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];switch(a){case"random":return t.colorizer.randomColor();case"lines":return 0===e.x?r?t.colorizer.prevOrSameColor(n):t.colorizer.nextOrSameColor(n):n;case"vert":return r?(o.canvas.width-e.x)%o.canvas.colors:e.x%o.canvas.colors;case"diag":return r?(o.canvas.size-e.x-e.y)%o.canvas.colors:(e.x+e.y)%o.canvas.colors;default:return n}}}},892:(o,e,n)=>{n.d(e,{Z:()=>a});const a=function(o,e,n,a){var t=this;this.config=o,this.colorRain=e,this.colorizer=n.cols,this.controller=n.ctrl,this.thinker=n.thnk,this.canvas=a,this.nextFrame=function(){e.count>o.canvas.maxCycles&&(o.active=!1),t.timerOrFrame()},this.startRendering=function(){console.log("Renderer: Color Rain started!"),e.count=0,t.controller.toggleActive(!0),t.controller.showMeConfigs(),t.keepRendering()},this.keepRendering=function(){o.active?(e.count++,t.thinker.influenceMe(),t.showMe(),t.nextFrame()):console.log("Renderer: Color Rain completed!")},this.timerOrFrame=function(){"timer"===o.canvas.renderCycleType?window.setTimeout((function(){t.keepRendering()}),o.canvas.timer):"frame"===o.canvas.renderCycleType&&window.requestAnimationFrame(t.keepRendering)},this.showMe=function(){var n=t.canvas.getContext("2d");for(n.fillStyle="white",n.fillRect(0,0,o.canvas.width*o.canvas.step,o.canvas.height*o.canvas.step),i=0;i<o.canvas.size;i++){var a=e.cells[i];a.color=a.nextColor,n.fillStyle=t.colorizer.getColor(a.color),n.fillRect(a.x,a.y,o.canvas.step,o.canvas.step)}e.count%100==0&&(t.controller.showMeConfigs(),console.log("Renderer: cycle count: ".concat(e.count,", time: ").concat(new Date)))},this.renderPixels=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[[1]],r=t.canvas.getContext("2d"),i=a[0].length,s=a.length;for(yi=0;yi<s;yi++)for(xi=0;xi<i;xi++)""!==a[yi][xi]&&r.fillRect(o+xi*n,e+yi*n,n,n)}}},241:(o,e,n)=>{n.d(e,{Z:()=>a});const a=function(o,e,n){var a=this;this.config=o,this.colorRain=e,this.colorizer=n.colorizer,this.shapes={circle:function(){return a.shapeCircle},heart:function(){return a.shapeHeart},star:function(){return a.shapeStar},spiral:function(){return a.shapeSpiral},box:function(){return a.shapeBox},kite1:function(){return a.shapeKite1},kite2:function(){return a.shapeKite2},snake1:function(){return a.shapeSnake1},snake2:function(){return a.shapeSnake2}},this.getShapeNames=function(){return Object.keys(a.shapes)},this.getShape=function(o){if(a.shapes.hasOwnProperty(o)){var e=a.shapes[o]();return console.log("Shapes: Returning shape named ".concat(o," size=").concat(e[0].length,"x").concat(e.length)),e}return console.log("Shapes: No shape named ".concat(o,", returning pixel instead")),[[1]]},this.getShapeSize=function(o){if(a.shapes.hasOwnProperty(o)){var e=a.shapes[o]();return{w:e[0].length,h:e.length}}return{w:1,h:1}},this.shapeCircle=[["","","","",27,28,"","","",""],["","",24,25,26,29,30,31,"",""],["",22,23,1,1,2,3,4,5,""],[21,21,1,1,1,3,4,5,6,7],[20,1,1,1,1,4,5,4,5,8],[19,18,1,1,1,5,6,4,10,9],["",18,17,1,1,6,7,12,11,""],["","",17,16,15,14,13,12,"",""],["","","","",14,14,"","","",""]],this.shapeHeart=[["","",26,27,"",31,32,"",""],["",24,25,28,29,30,33,34,""],[22,23,1,1,2,3,4,5,6],[21,20,1,1,1,2,3,8,7],["",19,18,1,1,1,10,9,""],["","",17,16,1,12,11,"",""],["","","",15,14,13,"","",""],["","","","",13,"","","",""]],this.shapeStar=[["","","","","",11,"","","","",""],["","","","","",10,"","","","",""],["","","","","",9,"","","","",""],["","","","",7,8,9,"","","",""],["","","","",6,29,10,"","","",""],["","",3,4,5,28,11,12,13,"",""],[0,1,2,26,26,27,28,29,14,15,16],["","",25,24,23,28,17,16,15,"",""],["","","","",22,29,18,"","","",""],["","","","",21,20,19,"","","",""],["","","","","",21,"","","","",""],["","","","","",22,"","","","",""],["","","","","",23,"","","","",""]],this.shapeSpiral=[[56,55,54,53,52,51,50,49],[57,30,29,28,27,26,25,48],[58,31,12,11,10,9,24,47],[59,32,13,2,1,8,23,46],[60,33,14,3,0,7,22,45],[61,34,15,4,5,6,21,44],[62,35,16,17,18,19,20,43],[63,36,37,38,39,40,41,42]],this.shapeBox=[[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],[3,3,4,3,4,5,6,7,8,9,10,11,12,13,14,15],[4,5,5,3,4,5,6,7,8,9,10,11,12,13,14,15],[5,6,7,6,2,3,4,5,6,7,8,9,10,11,12,13],[6,7,8,9,10,3,4,5,6,7,8,9,10,11,12,13],[7,8,9,10,11,12,2,3,4,5,6,7,8,9,10,11],[8,9,10,11,12,13,14,3,4,5,6,7,8,9,10,11],[9,10,11,12,13,14,15,16,2,3,4,5,6,7,8,9],[10,11,12,13,14,15,16,17,18,3,4,5,6,7,8,9],[11,12,13,14,15,16,17,18,19,20,2,3,4,5,6,7],[12,13,14,15,16,17,18,19,20,21,22,3,4,5,6,7],[13,14,15,16,17,18,19,20,21,22,23,24,2,3,4,5],[14,15,16,17,18,19,20,21,22,23,24,25,26,3,4,5],[15,16,17,18,19,20,21,22,23,24,25,26,27,28,2,3],[16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,3],[17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]],this.shapeKite1=[[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22],[0,1,2,3,4,6,6,7,9,11,13,15,16,18,19,21],["",0,2,3,4,5,5,7,8,9,11,12,14,17,18,20],["","",0,1,2,3,4,6,6,8,9,11,13,14,16,19],["","","",0,2,3,4,5,5,7,8,10,11,12,15,18],["","","","",0,1,2,3,4,6,7,9,9,11,13,17],["","","","","",0,2,3,4,5,6,7,8,9,11,16],["","","","","","",0,1,2,3,4,5,6,8,9,15],["","","","","","","",0,2,3,4,5,6,7,7,14],["","","","","","","","",0,1,2,3,4,5,6,13],["","","","","","","","","",0,2,3,4,4,6,12],["","","","","","","","","","",0,1,2,3,5,11],["","","","","","","","","","","",0,2,2,4,10],["","","","","","","","","","","","",0,1,2,9],["","","","","","","","","","","","","",0,1,8],["","","","","","","","","","","","","","",0,7]],this.shapeKite2=[["","","","","","","","","","","","","","",2,3],["","","","","","","","","","","","","","",0,1],["","","","","","","","","","","","",2,3,4,5],["","","","","","","","","","","","",0,1,2,3],["","","","","","","","","","",2,3,4,5,6,7],["","","","","","","","","","",0,1,2,3,4,5],["","","","","","","","",2,3,4,5,6,7,8,9],["","","","","","","","",0,1,2,3,4,5,6,7],["","","","","","",2,3,4,5,6,7,8,9,10,11],["","","","","","",0,1,2,3,4,5,6,7,8,9],["","","","",2,3,4,5,6,7,8,9,10,11,12,13],["","","","",0,1,2,3,4,5,6,7,8,9,10,11],["","",2,3,4,5,6,7,8,9,10,11,12,13,14,15],["","",0,1,2,3,4,5,6,7,8,9,10,11,12,13],[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]],this.shapeSnake1=[[0,0,0,"",4,5,5,"",9,9,10,"",14,14,15,"",19,19,19,"",23,24,24,"","","","","","","","","","","","","","","","","","","","","",""],["","",1,"",4,"",6,"",8,"",10,"",13,"",15,"",18,"",20,"",23,"",25,"","","","","","","","","","","","","","","","","","","","","",""],["","",1,"",3,"",6,"",8,"",11,"",13,"",16,"",18,"",20,"",22,"",25,"","","","","","","","","","","","","","","","","","","","","",""],["","",2,2,3,"",7,7,7,"",11,12,12,"",16,17,17,"",21,21,22,"",26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48]],this.shapeSnake2=[["","","","","","","",5,5,"","","","",9,9,10,10,"","","","",14,15,"","","","",18,18,19,19,19,"","","","",23,24,"","","","","","","","","","","","",40,41,42],["",2,"","","","",3,4,6,7,"","",8,8,"","",11,12,"","",13,13,16,16,"","",17,17,"","","",20,21,"","",22,23,25,25,"","","","","","","","","","",38,39,"",""],[0,1,2,3,2,1,2,"","",8,7,6,7,"","","","",13,12,11,12,"","",17,16,15,16,"","","","","",22,21,20,21,"","",26,27,28,29,30,31,32,33,34,35,36,37,"","",""]]}},150:(o,e,n)=>{n.d(e,{Z:()=>a});const a=function(o,e,n,a){var t=this;this.config=o,this.colorRain=e,this.colorizer=n.cols,this.renderer=n.rend,this.shapes=n.shapes,this.initializer=n.init,this.canvas=a,this.splashW=1,this.splashH=1,this.maxW=o.canvas.width*o.canvas.step,this.maxH=o.canvas.height*o.canvas.step,this.resizeMod=.02,this.resizeAlways=1,this.resizeRandom=function(){t.splashW<t.maxW&&(t.splashW+=(t.maxW-t.splashW+1)*t.resizeMod+t.resizeAlways),t.splashH<t.maxH&&(t.splashH+=(t.maxH-t.splashH+1)*t.resizeMod+t.resizeAlways),t.splashW>=t.maxW&&t.splashH>=t.maxH&&(t.config.splash.active=!1)},this.onlyTheseShapes=["heart","spiral","circle","kite1","star","snake1","kite2"],this.currShapeIdx=0,this.cycleShapeEvery=10,this.nextShape=function(){return t.splashCount%t.cycleShapeEvery==0&&(t.currShapeIdx=(t.currShapeIdx+1)%t.onlyTheseShapes.length),t.onlyTheseShapes[t.currShapeIdx]},this.colorRGB=[1,1,1],this.colorModR=.0296,this.colorModG=.0148,this.colorModB=.0074,this.colorShiftRandom=function(){t.colorModR=t.modColor(0,t.colorModR),t.colorModG=t.modColor(1,t.colorModG),t.colorModB=t.modColor(2,t.colorModB)},this.modColor=function(o,e){return t.colorRGB[o]+=e,t.colorRGB[o]>1?(t.colorRGB[o]=1,-1*e):t.colorRGB[o]<0?(t.colorRGB[o]=0,-1*e):e},this.currentColor=function(){return t.colorizer.colorRgbValue(t.colorRGB[0],t.colorRGB[1],t.colorRGB[2])},this.inverseColor=function(){return t.colorizer.colorRgbValue(1-t.colorRGB[0],1-t.colorRGB[1],1-t.colorRGB[2])},this.splashCount=0,this.splashTimer=1e3/24,this.keepSplashing=function(){t.config.splash.active&&t.splashCount<t.config.canvas.maxCycles?(t.colorShiftRandom(),t.resizeRandom(),t.splashMe(t.nextShape()),t.splashCount++,window.setTimeout((function(){t.keepSplashing()}),t.splashTimer)):(console.log("Splash: splash cycle completed after ".concat(t.splashCount," cycles")),t.initializer.initMe())},this.splashMe=function(o){t.canvas.width=t.splashW,t.canvas.height=t.splashH;var e=t.canvas.getContext("2d"),n=t.currentColor();e.fillStyle=n,e.fillRect(0,0,t.splashW,t.splashH);var a=t.shapes.getShape(o),r=a[0].length,i=a.length;e.fillStyle=t.inverseColor();var s=.33*t.splashW/r,c=Math.floor((t.splashW-r*s)/2),l=Math.floor((t.splashH-i*s)/2);t.renderer.renderPixels(c,l,s,a)}}},952:(o,e,n)=>{n.d(e,{Z:()=>a});const a=function(o,e,n){var a=this;this.config=o,this.colorRain=e,this.colorizer=n.cols,this.chaos=n.chaos,this.influenceMe=function(){var o=a.autoInfluence();a.naturalRain(),a.spatterRain(),a.forceChaos(o)},this.autoInfluence=function(){var n=0;if(!1===o.auto.active)return 0;for(i=0;i<o.canvas.size;i++){var t=e.cells[i].color,r=a.getAutoInfluence(t,e.neighbors[i]);r!==t&&n++,e.cells[i].nextColor=r}return n},this.getAutoInfluence=function(n,a){var t=(n+1)%o.canvas.colors;return a.some((function(o){var n=e.cells[o].color;return t===n}))?t:n},this.naturalRain=function(){if(!(!1===o.rain.active||o.rain.drop<1))for(rf=0;rf<o.rain.drop;rf++){var n=a.colorizer.randomX(o.canvas.size);e.cells[n].nextColor=a.colorizer.nextColor(e.cells[n].color)}},this.spatterRain=function(){if(!(!1===o.spatter.active||o.spatter.drop<1))for(rf=0;rf<o.spatter.drop;rf++){var n=a.colorizer.randomX(o.canvas.size);e.cells[n].nextColor=a.colorizer.randomColor()}},this.forceChaos=function(n){if(!1!==o.chaos.active&&(0===o.chaos.wait||e.count%o.chaos.wait==0)){var t=a.chaos.getActiveChaosNames(),r=t.map((function(o){return a.chaos.chaos["".concat(o)].func})),i=r.length;if(0!==i){var s=a.colorizer.randomX(i),c=0===a.colorizer.randomX(2)?-1:1;console.log("Thinker: Force chaos selectedMod: ".concat(t[s]," of ").concat(i," available")),r[s](c)}else console.log("Thinker: All chaos disabled, skipping")}}}}},e={};function n(a){var t=e[a];if(void 0!==t)return t.exports;var r=e[a]={exports:{}};return o[a](r,r.exports,n),r.exports}n.d=(o,e)=>{for(var a in e)n.o(e,a)&&!n.o(o,a)&&Object.defineProperty(o,a,{enumerable:!0,get:e[a]})},n.o=(o,e)=>Object.prototype.hasOwnProperty.call(o,e),(()=>{var o=n(232),e=n(805),a=n(241),t=n(172),r=n(276),i=n(952),s=n(892),c=n(248),l=n(150),h=document.getElementById("color_rain_canvas"),v=h.getContext("2d"),d=document.getElementById("color_rain_navbar"),p=document.getElementById("color_rain_controls"),g=document.getElementById("color_rain_config");g.innerHTML="Preparing for init!",console.log("Found canvas:             ".concat(h.innerHTML,"\n\n")),console.log("Found canvas context:     ".concat(v.canvas.innerHTML,"\n\n")),console.log("Found control nav div:    ".concat(d.innerHTML,"\n\n")),console.log("Found control button div: ".concat(p.innerHTML,"\n\n")),console.log("Found config div:         ".concat(g.innerHTML,"\n\n"));var u={conf:void 0,cols:void 0,shapes:void 0,chaos:void 0,ctrl:void 0,thnk:void 0,rend:void 0,init:void 0,splash:void 0};!function(){g.innerHTML="Initializing and Starting Up!",console.log("Module init..."),console.log("DOM: Identifying/Creating DOM elems"),console.log("DOM: canvas: ".concat(h.innerHTML,"\n\n")),console.log("DOM: ctrlNav: ".concat(d.innerHTML,"\n\n")),console.log("DOM: ctrlButt: ".concat(p.innerHTML,"\n\n")),console.log("DOM: conf: ".concat(g.innerHTML,"\n\n")),console.log("Configuration: Loading base objects");var n=u.conf=new o.Z,v=n.config,f=n.colorRain;console.log("Configuration: pre-init config: ".concat(JSON.stringify(v,null,2),"\n\n")),console.log("Configuration: pre-init colorRain: ".concat(JSON.stringify(f,null,2),"\n\n")),console.log("Colorizer: Loading color helpers");var m=u.cols=new e.Z(v,f);console.log("Colorizer: next color id: ".concat(m.nextColorCount,"\n\n")),console.log("Shapes: Loading shapes");var C=u.shapes=new a.Z(v,f,u);console.log("Shapes: available names: ".concat(Object.keys(C.shapes).join(", "),"\n\n")),console.log("Chaos: Loading chaos engine");var x=u.chaos=new t.Z(v,f,u);console.log("Chaos: available names: ".concat(x.getActiveChaosNames().join(", "),"\n\n")),console.log("Controller: Loading controller");var z=u.ctrl=new r.Z(v,f,u,d,p,g);z.createControls(),console.log("Controller: created controls nav, content size: ".concat(d.innerHTML.length,"\n\n")),console.log("Controller: created controls buttons, content size: ".concat(p.innerHTML.length,"\n\n")),z.showMeConfigs(),console.log("Controller: showing config div, content size: ".concat(g.innerHTML.length,"\n\n")),console.log("Thinker: Loading think engine");var w=u.thnk=new i.Z(v,f,u);console.log("Thinker: chaos list: ".concat(w.chaos.getActiveChaosNames().join(","),"\n\n")),console.log("Renderer: Loading renderer");var y=u.rend=new s.Z(v,f,u,h);console.log("Renderer: ".concat(y.canvas.innerHTML,"\n\n")),console.log("Initializer: Loading initializer");var S=u.init=new c.Z(v,f,u,h);console.log("Initializer: pre-init size: ".concat(S.config.canvas.size,"\n\n")),console.log("Splash: Loading splash screen");var b=u.splash=new l.Z(v,f,u,h);b.keepSplashing(),console.log("Splash: will call initMe() when done, count: ".concat(b.splashCount,"\n\n"))}(),console.log("App modules loaded"),window.appData=u})()})();